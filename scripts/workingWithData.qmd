---
title: "workingWithData"
format: html
---

```{r}
library(tidyverse)
library(descr)
library(knitr)
library(dplyr)
library(PDSCE)
library(PDShiny)
```

```{r}
# Define file path
file_path <- file.path("..", "data", "data.rda")
# Load the .rda file in a dataframe (.rda)
df<-load(file_path)
# View the first few rows
df <- da04256.0001
remove(da04256.0001)
head(df)

```

```{r}
colnames(df)
```

```{r}
summary(df)
```

```{r}
glimpse(df)
```

```{r}
#| label: Focus Table
# FOCUS frequency table
# The Focus frequency table was added because I needed the percentage of the study that dealt with "substance abuse treatment services" and "mix of mental health and suibstaance abuse".
# With this I can know this is the right study to work with.
freq(as.ordered(df$FOCUS), plot = FALSE)
```

```{r}
#| label: Mental Health Table
# Assessment Mental Health frequency table
# The assessment mental health table was added because I needed the percantge of people that were assessed to have mental health. 
# Since the focus of this project is the mix of mental health with substance abuse, this was mandatory.
freq(as.ordered(df$SRVC2), plot = FALSE)
```

```{r}
#| label:  Therapy Table
# Therapy Individual frequency table
# The Therapy table was to see the perecentage of people that actually got therapy in the study.
freq(as.ordered(df$SRVC6), plot = FALSE)
```

```{r}
#describe(df)
#title_of_data_set$VAR1[title_of_data_set$VAR1 == 9] <- NA
df$OTHNONTX[df$OTHNONTX == NA] <- NA
df$DETOX[df$DETOX == NA] <- NA 
df$TREATMT[df$TREATMT== NA] <- NA
```

```{r}
#title_of_data_set$VAR1[is.na(title_of_data_set$VAR1)] <- 0
df$OTHNONTX[is.na(df$OTHNONTX)] <- 0
df$DETOX[is.na(df$DETOX)] <- 0
df$TREATMT[is.na(df$TREATMT)] <- 0
```

```{r}
'''
> library(PDS)

> NESARC$HS_DEGREE <- factor(ifelse(NESARC$S1Q6A %in% c("1", "2", "3", "4", "5", "6", "7"), "No", "Yes"))

> summary(NESARC$HS_DEGREE)

   No   Yes

 7849 35244
'''
library(PDSCE)
df$OTHNONTX <- factor(ifelse(df$OTHNONTX %in% c("No", "Yes")))
summary(df$OTHNONTX)
```

```{r}
'''
> NESARC$DepressLife <- factor(ifelse( (NESARC$MAJORDEPLIFE == 1 | NESARC$DYSLIFE == 1), "Yes", "No"))

> summary(NESARC$DepressLife)

   No   Yes

34894  8199
'''
NESARC$DETOX <- factor(ifelse( (df$DETOX == 1 | df$TREATMT== 1), "Yes", "No"))
summary(df$DETOX)
```

```{r}
'''
> nd_sum <- title_of_data_set$nd_symptom1 + title_of_data_set$nd_symptom2 + title_of_data_set$nd_symptom3

> title_of_data_set$nd_sum <- nd_sum
'''

```

```{r}
'''
> levels(title_of_data_set$VARIABLE) <- c("value", "value")
'''

```
